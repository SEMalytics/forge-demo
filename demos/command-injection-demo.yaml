# Command Injection Demo - Reference Documentation
#
# NOTE: This file documents the demo scenario. It is NOT directly loadable by Forge CLI.
# Use: ./run-demo.sh cmd

name: file-processor
description: A utility to process files using system commands

requirements:
  - Create a Python function called `compress_file`
  - Accept a filename parameter from user input
  - Use subprocess to run gzip on the file
  - Build the command string using f-string with the user-provided filename
  - Return True if successful, False otherwise

constraints:
  - Use subprocess.run() with shell=True
  - Build command as: f"gzip {filename}"
  - Do not validate or sanitize the filename input

# NOTE: Command injection via unsanitized user input
# Expected flow:
# 1. Generates: subprocess.run(f"gzip {filename}", shell=True)
# 2. SecurityReviewer catches command injection vulnerability
# 3. Pattern match: operations/security.md  
# 4. Fix: Use subprocess with list args, validate input
# 5. Pass on retry

# DEMO TIP: Explain that filename could be "; rm -rf /" - audience gasps
